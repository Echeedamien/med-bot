<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      body {
        background-image: url("https://images.unsplash.com/photo-1652787542567-f86c0b4c0269?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D");
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        min-height: 100vh;
      }

      .overlay {
        backdrop-filter: blur(6px);
        background: rgba(0, 0, 0, 0.65);
      }
    </style>
  </head>

  <body class="overlay flex justify-center items-center p-6">
    <div
      class="bg-white bg-opacity-10 backdrop-blur-lg rounded-xl shadow-2xl p-8 w-full max-w-md text-white"
    >
      <h2 class="text-3xl font-extrabold mb-6 text-center">
        Create an Account
      </h2>

      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, message in messages %}
      <p
        class="mb-4 text-center text-{{ 'red' if category == 'danger' else 'green' }}-400 font-semibold"
      >
        {{ message }}
      </p>
      {% endfor %} {% endif %} {% endwith %}

      <form method="POST" class="space-y-4">
        <!-- Password -->
        <div class="relative">
          <input
            type="password"
            id="password"
            name="password"
            placeholder="Password"
            class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
            required
          />
          <span
            onclick="togglePassword('password', 'eye1')"
            class="absolute right-4 top-3 cursor-pointer text-gray-200"
          >
            üëÅÔ∏è
          </span>
        </div>

        <!-- Confirm Password -->
        <div class="relative">
          <input
            type="password"
            id="confirm_password"
            name="confirm_password"
            placeholder="Confirm Password"
            class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
            required
          />
          <span
            onclick="togglePassword('confirm_password', 'eye2')"
            class="absolute right-4 top-3 cursor-pointer text-gray-200"
          >
            üëÅÔ∏è
          </span>
        </div>

        <input
          type="text"
          name="name"
          placeholder="Full Name"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="email"
          name="email"
          placeholder="Email Address"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="text"
          name="phone"
          placeholder="Phone Number"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="password"
          name="password"
          placeholder="Password"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="password"
          name="confirm_password"
          placeholder="Confirm Password"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="text"
          name="med_name"
          placeholder="Medication Name"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="text"
          name="dosage"
          placeholder="Dosage"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="time"
          name="med_time"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <input
          type="number"
          name="water_goal"
          placeholder="Daily Water Goal (ml)"
          class="w-full p-3 rounded-lg bg-white bg-opacity-20 placeholder-gray-200 text-white"
          required
        />

        <button
          type="submit"
          class="w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-white transition"
        >
          Register
        </button>
      </form>

      <p class="mt-4 text-center">
        Already registered?
        <a href="{{ url_for('login') }}" class="text-blue-300 hover:underline"
          >Login</a
        >
      </p>
    </div>

    <script>
      function togglePassword(fieldId) {
        const field = document.getElementById(fieldId);
        field.type = field.type === "password" ? "text" : "password";
      }
    </script>
  </body>
</html>
