<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            background-image: url('https://plus.unsplash.com/premium_photo-1668898899024-02f028349666');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .overlay {
            background: rgba(0, 0, 0, 0.55);
            backdrop-filter: blur(6px);
            min-height: 100vh;
        }
    </style>
</head>

<body class="overlay text-white p-6">

    <div class="max-w-xl mx-auto mt-10 bg-white/10 backdrop-blur-lg p-8 rounded-xl shadow-2xl">

        <h1 class="text-3xl font-bold mb-2">Welcome, {{ user.name }}!</h1>
        <p class="text-green-300 font-medium mb-5">
            ðŸ’Š Next medication: {{ next_time }}
        </p>

        <h2 class="text-xl font-semibold mb-3">Log your action</h2>

        <form method="POST" action="{{ url_for('log_action', name=user.name) }}" class="flex gap-3">
            <select name="action" class="p-3 rounded-lg text-gray-900 w-full">
                <option value="medication taken">Medication Taken</option>
                <option value="water drank">Water Drank</option>
            </select>

            <button class="px-4 bg-blue-600 hover:bg-blue-700 rounded-lg text-white">
                Log
            </button>
        </form>

        <h2 class="text-xl font-semibold mt-6 mb-3">History</h2>

        <div class="bg-white/10 p-4 rounded-lg">
            <table class="w-full text-sm">
                <tr class="border-b border-white/20">
                    <th class="text-left py-2">Action</th>
                    <th class="text-left py-2">Timestamp</th>
                </tr>

                {% for log in logs %}
                <tr class="border-b border-white/10">
                    <td class="py-2">{{ log.action }}</td>
                    <td class="py-2">{{ log.timestamp }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>

        <a href="{{ url_for('logout') }}" class="block text-center text-red-300 mt-6 hover:underline">
            Logout
        </a>

    </div>

</body>
</html>